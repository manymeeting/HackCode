<html>

<body>
  <!--
  Given a collection of intervals, merge all overlapping intervals.

  For example,
  Given [1,3],[2,6],[8,10],[15,18],
  return [1,6],[8,10],[15,18].
  -->
  <script>
  /**
   * Definition for an interval.
   * function Interval(start, end) {
   *     this.start = start;
   *     this.end = end;
   * }
   */
   function Interval(start, end) {
     this.start = start;
     this.end = end;
   }
  /**
   * @param {Interval[]} intervals
   * @return {Interval[]}
   */
  var merge = function(intervals) {
    intervals.sort(function(a, b){
      return a.start - b.start;
    })
    
    let res = [];
    for (let i = 0; i < intervals.length; i++)
    {
      if(res.length === 0) res.push(intervals[i]);
      let lastInterval = res.pop();
      if(intervals[i].start <= lastInterval.end)
      {
        if(intervals[i].end >= lastInterval.end)
        {
          lastInterval.end = intervals[i].end;
        }
        //push back
        res.push(lastInterval);
      }
      else
      {
        //push back
        res.push(lastInterval);
        //push new
        res.push(intervals[i]);
      }
      
    }
    return res;
  };
  </script>

</body>

</html>
