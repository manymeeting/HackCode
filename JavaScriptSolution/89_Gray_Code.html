
<html>

<body>
  <!--
  The gray code is a binary numeral system where two successive values differ in only one bit.

  Given a non-negative integer n representing the total number of bits in the code, print the sequence of gray code. A gray code sequence must begin with 0.

  For example, given n = 2, return [0,1,3,2]. Its gray code sequence is:

  00 - 0
  01 - 1
  11 - 3
  10 - 2
  Note:
  For a given n, a gray code sequence is not uniquely defined.

  For example, [0,2,3,1] is also a valid gray code sequence according to the above definition.

  For now, the judge is able to judge based on one instance of gray code sequence. Sorry about that.

  -->
  <script>
  /**
   * @param {number} n
   * @return {number[]}
   */
  var grayCode = function(n) {
    let result = [];
    return getGrayCode(n,result);

  }
  var getGrayCode = function(n, result) {

    if(n === 0)
    {
      result.push(0);
      return result;
    }
    result = getGrayCode(n-1, result);

    let newCodes = [];
    // add 1
    for (let i = result.length-1; i>=0 ; i--) {
      let newVal = 1<<(n-1) | result[i];
      newCodes.push(newVal);
    }
    result = result.concat(newCodes);
    return result;
  };

  // I believe the following code is also correct, but could not pass LeetCode test due to unknown reason.
  /**
   * @param {number} n
   * @return {number[]}
   */
  // let result = [];
  // var grayCode = function(n) {
  //   getGrayCode(n);
  //   return result;
  // }
  // var getGrayCode = function(n) {
  //
  //   if(n === 0)
  //   {
  //     result.push(0);
  //     return;
  //   }
  //   getGrayCode(n-1);
  //
  //   let newCodes = [];
  //   // add 1
  //   for (let i = result.length-1; i>=0 ; i--) {
  //     newCodes.push(1<<(n-1) | result[i]);
  //   }
  //   result = result.concat(newCodes);
  // };
  // grayCode(1);
  // console.log(result);

  </script>

</body>

</html>
